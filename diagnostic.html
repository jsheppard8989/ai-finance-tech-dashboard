<!DOCTYPE html>
<html>
<head>
    <title>Insights Diagnostic</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1a1a2e; color: #eee; }
        .ok { color: #4caf50; }
        .error { color: #f44336; }
        .warn { color: #ff9800; }
        pre { background: #16213e; padding: 10px; overflow: auto; }
    </style>
</head>
<body>
    <h1>üîç Insights Diagnostic</h1>
    <div id="output"></div>
    
    <script src="https://jsheppard8989.github.io/ai-finance-tech-dashboard/data/data.js"></script>
    <script>
        const out = document.getElementById('output');
        let html = '';
        
        function log(msg, type='info') {
            const cls = type === 'ok' ? 'ok' : type === 'error' ? 'error' : type === 'warn' ? 'warn' : '';
            html += `<div class="${cls}">${msg}</div>`;
        }
        
        // Check 1: dashboardData exists
        if (typeof dashboardData === 'undefined') {
            log('‚ùå dashboardData is UNDEFINED', 'error');
        } else {
            log('‚úÖ dashboardData exists', 'ok');
            
            // Check 2: mainContent
            if (!dashboardData.mainContent) {
                log('‚ùå dashboardData.mainContent is missing', 'error');
            } else {
                log('‚úÖ dashboardData.mainContent exists', 'ok');
                
                // Check 3: insights
                if (!dashboardData.mainContent.insights) {
                    log('‚ùå dashboardData.mainContent.insights is missing', 'error');
                } else {
                    const insights = dashboardData.mainContent.insights;
                    log(`‚úÖ insights array exists with ${insights.length} items`, 'ok');
                    
                    // Check 4: display_on_main
                    const onMain = insights.filter(i => i.display_on_main === 1);
                    log(`‚úÖ ${onMain.length} insights have display_on_main=1`, 'ok');
                    
                    // List them
                    html += '<h3>Insights that should display:</h3><ul>';
                    onMain.forEach(i => {
                        html += `<li>ID ${i.id}: ${i.title.substring(0, 50)}...</li>`;
                    });
                    html += '</ul>';
                }
            }
        }
        
        out.innerHTML = html;
    </script>
</body>
</html>
